/* src/styles/global.css */
@import 'tailwindcss';

@plugin '@tailwindcss/typography';
@plugin '@tailwindcss/forms';

@source '../**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}';

@theme {
  --font-sans:
    Inter, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-dosis: Dosis, Verdana, sans-serif;
  --font-raleway: Raleway, Verdana, sans-serif;
}

@layer base {
  :root {
    font-size: 15px;
    --content-padding: 1.5rem;  /* tailwind-6 */
  }

  *, ::after, ::before, ::backdrop, ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  a {
    @apply no-underline hover:no-underline;
  }
}

@utility content-wrapper {
  @apply mx-auto w-full max-w-[640px] px-6;
}

@utility prose {
  @apply wrap-break-word;

  & a {
    @apply text-lime-800 no-underline hover:underline;
  }

  & h2 {
    @apply pb-1 border-b border-zinc-200;
  }

  /* code */
  & code {
    @apply font-normal text-sm bg-zinc-200 rounded;
    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;
    padding: 0.2rem 0.4rem;
    vertical-align: 0.03em;
  }
  /* @tailwindcss/typography „ÅÆ„Éá„Éï„Ç©„É´„Éà„ÅÆ ` „Éû„Éº„ÇØ„ÇíÁÑ°ÂäπÂåñ */
  & code::before,
    code::after {
    content: '';
  }

  /* image */
  & img {
    @apply border border-zinc-200 rounded-lg;
  }

  /* „ÉÜ„Éº„Éñ„É´ */
  & :is(table) {
    /* .prose table „Å®Âêå„ÅòË©≥Á¥∞Â∫¶ (0,2,0) „ÇíÊåÅ„Å§ */
    @apply block overflow-x-auto; /* „Çπ„ÇØ„É≠„Éº„É´ÂèØËÉΩ„Å´ */
    @apply -mx-6 px-6; /* „Ç≥„É≥„ÉÜ„Éä„ÅÆÂπÖ„ÇíË™øÊï¥ */
    width: calc(100% + 3rem); /* content-wrapper „Åã„ÇâÈ†ëÂºµ„Å£„Å¶ÊâãË®àÁÆó */
    @apply relative; /* „Ç∑„É£„Éâ„Ç¶„ÅÆ„Åü„ÇÅ„ÅÆ‰ΩçÁΩÆÊåáÂÆö */
    @apply pb-1; /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆ‰ΩçÁΩÆË™øÊï¥ */
  }
  /* „ÉÜ„Éº„Éñ„É´: ‰∏≠Ë∫´ */
  & table thead {
    @apply bg-zinc-50 sticky top-0; /* „Éò„ÉÉ„ÉÄ„Éº„ÇíÂõ∫ÂÆö */
  }
  & table th {
    @apply px-3 text-left align-middle font-bold text-zinc-700 border-b-2 whitespace-nowrap;
  }
  & table td {
    @apply px-2 text-zinc-600 whitespace-nowrap;
  }
  /* „ÉÜ„Éº„Éñ„É´: „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„ÅÆ„Çπ„Çø„Ç§„É™„É≥„Ç∞ */
  & table::-webkit-scrollbar {
    @apply h-1;
  }
  & table::-webkit-scrollbar-track {
    @apply bg-zinc-100;
  }
  & table::-webkit-scrollbar-thumb {
    @apply bg-zinc-300 rounded-full hover:bg-zinc-400;
  }

  /* „É™„Çπ„Éà */
  /* & :where(ul > li):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    padding-inline-start: 0em;
  } */
  /* & :where(ul):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    padding-inline-start: 1.3rem;
  } */
  /* & :where(li):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    margin-top: 0;
    margin-bottom: 0;
  } */

  & ul {
    padding-left: 1.3rem;
    margin-top: 0.25em;
    margin-bottom: 0.5em;
  }

  & li {
    margin-top: 0;
    margin-bottom: 0;
  }

  /* & li + li {
    margin-top: 0.25em;
  } */

  /* RLC remark-link-card */
  & .remark-link-card-plus__container {
    @apply my-6;
  }
  & .remark-link-card-plus__card {
    @apply flex justify-between max-h-[90px]
           border border-zinc-200 rounded-lg
           bg-zinc-50
           no-underline hover:no-underline
           transition duration-200
           hover:bg-white hover:shadow-lg;
  }

  & .remark-link-card-plus__main {
    @apply flex flex-col justify-between p-5;
  }

  & .remark-link-card-plus__title {
    @apply text-lg font-medium text-zinc-900 leading-relaxed line-clamp-2;
  }

  & .remark-link-card-plus__description {
    @apply hidden;
  }

  & .remark-link-card-plus__meta {
    @apply flex items-center mt-auto;
  }
  
  & .remark-link-card-plus__url {
    @apply text-sm text-zinc-500 truncate;
  }
  
  & .remark-link-card-plus__container img {
    @apply m-0 border-0 rounded-none;
  }
  
  & .remark-link-card-plus__favicon {
    @apply w-4 h-4 mr-1.5! shrink-0;
  }
  
  & .remark-link-card-plus__container .remark-link-card-plus__thumbnail {
    @apply flex justify-end max-w-64;
  }

  & .remark-link-card-plus__container .remark-link-card-plus__image {
    @apply h-full object-cover rounded-r-lg;
  }
}

/* Base callout styling */
[data-callout] {
  @apply my-6 p-4 rounded-lg border
          flex flex-col gap-2;
}

/* Callout title styling */
[data-callout-title] {
  @apply font-medium flex items-center gap-2 text-sm;
}

/* Callout title icon */
[data-callout-title]::before {
  @apply w-4 h-4;
  font-family: 'lucide';
}

/* Callout body styling */
[data-callout-body] {
  @apply text-sm;
}

/* Remove margin from last paragraph in body */
[data-callout-body] p:last-child {
  @apply mb-0;
}

/* Variant: note („Éá„Éï„Ç©„É´„Éà/ÊÉÖÂ†±) */
[data-callout][data-callout-type="note"] {
  @apply bg-blue-50 border-blue-200;
}
[data-callout][data-callout-type="note"] [data-callout-title] {
  @apply text-blue-900;
}
[data-callout][data-callout-type="note"] [data-callout-title]::before {
  content: "‚ÑπÔ∏è";
}

/* Variant: warning (Ë≠¶Âëä) */
[data-callout][data-callout-type="warning"] {
  @apply bg-yellow-50 border-yellow-200;
}
[data-callout][data-callout-type="warning"] [data-callout-title] {
  @apply text-yellow-900;
}
[data-callout][data-callout-type="warning"] [data-callout-title]::before {
  content: "‚ö†Ô∏è";
}

/* Variant: check (ÊàêÂäü/„ÉÅ„Çß„ÉÉ„ÇØ) */
[data-callout][data-callout-type="check"] {
  @apply bg-green-50 border-green-200;
}
[data-callout][data-callout-type="check"] [data-callout-title] {
  @apply text-green-900;
}
[data-callout][data-callout-type="check"] [data-callout-title]::before {
  content: "‚úÖ";
}

/* Variant: danger (Âç±Èô∫/„Ç®„É©„Éº) */
[data-callout][data-callout-type="danger"] {
  @apply bg-red-50 border-red-200;
}
[data-callout][data-callout-type="danger"] [data-callout-title] {
  @apply text-red-900;
}
[data-callout][data-callout-type="danger"] [data-callout-title]::before {
  content: "üö´";
}

/* Variant: tip („Éí„É≥„Éà) */
[data-callout][data-callout-type="tip"] {
  @apply bg-purple-50 border-purple-200;
}
[data-callout][data-callout-type="tip"] [data-callout-title] {
  @apply text-purple-900;
}
[data-callout][data-callout-type="tip"] [data-callout-title]::before {
  content: "üí°";
}
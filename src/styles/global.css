/* src/styles/global.css */
@import 'tailwindcss';

@plugin '@tailwindcss/typography';
@plugin '@tailwindcss/forms';

@source '../**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}';

@theme {
  --font-sans:
    Inter, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-dosis: Dosis, Verdana, sans-serif;
  --font-raleway: Raleway, Verdana, sans-serif;
}

@layer base {
  :root {
    font-size: 15px;
    --content-padding: 1.5rem;  /* tailwind-6 */
  }

  *, ::after, ::before, ::backdrop, ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  a {
    @apply no-underline hover:no-underline;
  }
}

@utility content-wrapper {
  @apply mx-auto w-full max-w-[640px] px-6;
}

@utility prose {
  @apply wrap-break-word;

  & a {
    @apply text-lime-800 no-underline hover:underline;
  }

  & h2 {
    @apply pb-1 border-b border-zinc-200;
  }

  /* code */
  & code {
    @apply font-normal text-sm bg-zinc-200 rounded;
    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;
    padding: 0.2rem 0.4rem;
    vertical-align: 0.03em;
  }
  /* @tailwindcss/typography ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® ` ãƒãƒ¼ã‚¯ã‚’ç„¡åŠ¹åŒ– */
  & code::before,
    code::after {
    content: '';
  }

  /* image */
  & img {
    @apply border border-zinc-200 rounded-lg;
  }

  /* ãƒ†ãƒ¼ãƒ–ãƒ« */
  & :is(table) {
    /* .prose table ã¨åŒã˜è©³ç´°åº¦ (0,2,0) ã‚’æŒã¤ */
    @apply block overflow-x-auto; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã« */
    @apply -mx-6 px-6; /* ã‚³ãƒ³ãƒ†ãƒŠã®å¹…ã‚’èª¿æ•´ */
    width: calc(100% + 3rem); /* content-wrapper ã‹ã‚‰é ‘å¼µã£ã¦æ‰‹è¨ˆç®—ã—ã¦ãã ã•ã„ */
    @apply relative; /* ã‚·ãƒ£ãƒ‰ã‚¦ã®ãŸã‚ã®ä½ç½®æŒ‡å®š */
  }
  /* ãƒ†ãƒ¼ãƒ–ãƒ«: ä¸­èº« */
  & table thead {
    @apply bg-zinc-50 sticky top-0; /* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å›ºå®š */
  }
  & table th {
    @apply px-3 text-left align-middle font-bold text-zinc-700 border-b-2 whitespace-nowrap;
  }
  & table td {
    @apply px-2 text-zinc-600 whitespace-nowrap;
  }
  /* ãƒ†ãƒ¼ãƒ–ãƒ«: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
  & table::-webkit-scrollbar {
    @apply px-6 h-1.5;
  }
  & table::-webkit-scrollbar-track {
    @apply bg-zinc-100;
  }
  & table::-webkit-scrollbar-thumb {
    @apply bg-zinc-300 rounded-full hover:bg-zinc-400;
  }

  /* ãƒªã‚¹ãƒˆ */
  & :where(ul > li):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    padding-inline-start: 0em;
  }
  & :where(ul):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    padding-inline-start: 1.3rem;
  }
  & :where(li):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    margin-top: 0;
    margin-bottom: 0;
  }

  /* RLC remark-link-card */
  & .rlc-container {
    @apply flex justify-between max-h-[90px] my-6
           border border-zinc-200 rounded-lg
           bg-white
           no-underline hover:no-underline
           transition duration-200
           hover:bg-zinc-50 hover:shadow-lg;
  }
  & .rlc-info {
    @apply flex flex-col justify-between p-5;
  }

  & .rlc-title {
    @apply text-lg font-medium text-zinc-900 leading-relaxed line-clamp-2;
  }

  & .rlc-description {
    @apply hidden;
  }

  & .rlc-url-container {
    @apply flex items-center mt-auto;
  }

  /* proseå†…ã®ç”»åƒãƒªã‚»ãƒƒãƒˆ */
  & .rlc-container img {
    @apply m-0 border-0 rounded-none;
  }

  & .rlc-favicon {
    @apply w-4 h-4 mr-1.5! shrink-0;
  }

  & .rlc-url {
    @apply text-sm text-zinc-500 truncate;
  }

  /* ç”»åƒã‚³ãƒ³ãƒ†ãƒŠ */
  & .rlc-container .rlc-image-container {
    @apply flex justify-end max-w-64;
  }

  & .rlc-container .rlc-image {
    @apply h-full object-cover rounded-r-lg;
  }
}

/* Base callout styling */
[data-callout] {
  @apply my-6 p-4 rounded-lg border
          flex flex-col gap-2;
}

/* Callout title styling */
[data-callout-title] {
  @apply font-medium flex items-center gap-2 text-sm;
}

/* Callout title icon */
[data-callout-title]::before {
  @apply w-4 h-4;
  font-family: 'lucide';
}

/* Callout body styling */
[data-callout-body] {
  @apply text-sm;
}

/* Remove margin from last paragraph in body */
[data-callout-body] p:last-child {
  @apply mb-0;
}

/* Variant: note (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ/æƒ…å ±) */
[data-callout][data-callout-type="note"] {
  @apply bg-blue-50 border-blue-200;
}
[data-callout][data-callout-type="note"] [data-callout-title] {
  @apply text-blue-900;
}
[data-callout][data-callout-type="note"] [data-callout-title]::before {
  content: "â„¹ï¸";
}

/* Variant: warning (è­¦å‘Š) */
[data-callout][data-callout-type="warning"] {
  @apply bg-yellow-50 border-yellow-200;
}
[data-callout][data-callout-type="warning"] [data-callout-title] {
  @apply text-yellow-900;
}
[data-callout][data-callout-type="warning"] [data-callout-title]::before {
  content: "âš ï¸";
}

/* Variant: check (æˆåŠŸ/ãƒã‚§ãƒƒã‚¯) */
[data-callout][data-callout-type="check"] {
  @apply bg-green-50 border-green-200;
}
[data-callout][data-callout-type="check"] [data-callout-title] {
  @apply text-green-900;
}
[data-callout][data-callout-type="check"] [data-callout-title]::before {
  content: "âœ…";
}

/* Variant: danger (å±é™º/ã‚¨ãƒ©ãƒ¼) */
[data-callout][data-callout-type="danger"] {
  @apply bg-red-50 border-red-200;
}
[data-callout][data-callout-type="danger"] [data-callout-title] {
  @apply text-red-900;
}
[data-callout][data-callout-type="danger"] [data-callout-title]::before {
  content: "ğŸš«";
}

/* Variant: tip (ãƒ’ãƒ³ãƒˆ) */
[data-callout][data-callout-type="tip"] {
  @apply bg-purple-50 border-purple-200;
}
[data-callout][data-callout-type="tip"] [data-callout-title] {
  @apply text-purple-900;
}
[data-callout][data-callout-type="tip"] [data-callout-title]::before {
  content: "ğŸ’¡";
}